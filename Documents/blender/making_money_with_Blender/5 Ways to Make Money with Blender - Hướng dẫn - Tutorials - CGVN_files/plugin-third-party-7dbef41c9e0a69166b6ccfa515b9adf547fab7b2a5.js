define("discourse/plugins/discourse-topic-list-previews/discourse/lib/actions",["exports","discourse/lib/ajax","discourse/lib/ajax-error"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeLike=e.sendBookmark=e.addLike=void 0;var i=function(e){(0,t.ajax)("/post_actions",{type:"POST",data:{id:e,post_action_type_id:2},returnXHR:!0}).catch(function(e){(0,s.popupAjaxError)(e)})},a=function(e,i){return(0,t.ajax)("/posts/"+e+"/bookmark",{type:"PUT",data:{bookmarked:i}}).catch(function(e){(0,s.popupAjaxError)(e)})},n=function(e){(0,t.ajax)("/post_actions/"+e,{type:"DELETE",data:{post_action_type_id:2}}).catch(function(e){(0,s.popupAjaxError)(e)})};e.addLike=i,e.sendBookmark=a,e.removeLike=n}),define("discourse/plugins/discourse-topic-list-previews/discourse/lib/utilities",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return"string"==typeof e&&"false"!==e&&"nil"!==e&&"null"!==e&&""!==e},s=function(e){return!!e&&(e.retina&&t(e.retina)?window.devicePixelRatio>=2?e.retina:e.normal:e.normal&&t(e.normal)?e.normal:t(e)?e:void 0)},i=function(e,t){var i=s(e);if(!i)return"";if(Discourse.Site.currentProp("mobileView"))return'<img class="thumbnail" src="'+i+'"/>';var a=t.isSocial?"max-":"",n=!!t.category&&t.category.topic_list_thumbnail_width,o=!!t.category&&t.category.topic_list_thumbnail_height,r=!!t.featured&&Discourse.SiteSettings.topic_list_featured_width;return'<img class="thumbnail" src="'+i+'" style="object-fit:cover;'+a+"height:"+(!!t.featured&&Discourse.SiteSettings.topic_list_featured_height||o||Discourse.SiteSettings.topic_list_thumbnail_height)+"px;"+a+"width:"+(r||n||Discourse.SiteSettings.topic_list_thumbnail_width)+'px" />'},a=function(e,t){var i=s(e),a=Discourse.SiteSettings.topic_list_test_image_url_timeout,n=void 0,o=new Image;o.onerror=o.onabort=function(){clearTimeout(n),t(!1)},o.onload=function(){clearTimeout(n),t(!0)},n=setTimeout(function(){t(!1)},a),o.src=i},n=function(e){e=e||{};var t="<button class='list-button "+e.class+"'";return e.title&&(t+='title="'+I18n.t(e.title)+'"'),e.disabled&&(t+=" disabled"),t+="><i class='fa fa-"+e.icon+"' aria-hidden='true'></i>",t+="</button>"},o=function(e,t,s,i){if(Ember.testing)return Ember.run(this,i);e.stop().css("textIndent",t).animate({textIndent:s},{complete:i,step:function(e){$(this).css("transform","scale("+e+")")},duration:150},"linear")},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!Discourse.SiteSettings.topic_list_featured_images_topic)&&(!e||Discourse.SiteSettings.topic_list_featured_images_category?Discourse.SiteSettings.topic_list_featured_images:e.topic_list_featured_images)};e.renderUnboundPreview=i,e.testImageUrl=a,e.buttonHTML=n,e.animateHeart=o,e.featuredImagesEnabled=r}),Ember.TEMPLATES["javascripts/components/tlp-featured-topic"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["preview-unbound"],[[28,["topic","thumbnails"]]],[["featured"],[true]]],false],[0,"\\n"],[11,"div",[]],[15,"class","featured-details"],[13],[0,"\\n  "],[11,"div",[]],[15,"class","content"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","title"],[13],[0,"\\n      "],[1,[28,["topic","title"]],false],[0,"\\n    "],[14],[0,"\\n    "],[11,"div",[]],[15,"class","excerpt"],[13],[0,"\\n      "],[1,[28,["topic","excerpt"]],true],[0,"\\n    "],[14],[0,"\\n    "],[11,"span",[]],[15,"class","user"],[13],[0,"\\n      "],[1,[28,["topic","topic_post_user","username"]],false],[0,"\\n      "],[1,[33,["avatar"],[[28,["topic","topic_post_user"]]],[["imageSize"],["small"]]],false],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/tlp-featured-topic"}}),Ember.TEMPLATES["javascripts/components/tlp-featured-topics"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["hasTopics"]]],null,{"statements":[[6,["if"],[[28,["showFeaturedTitle"]]],null,{"statements":[[0,"    "],[11,"div",[]],[15,"class","featured-title"],[13],[0,"\\n      "],[1,[26,["featuredTitle"]],false],[0,"\\n    "],[14],[0,"\\n"]],"locals":[]},null],[0,"  "],[11,"div",[]],[15,"class","topics"],[13],[0,"\\n"],[6,["each"],[[28,["featuredTopics"]]],null,{"statements":[[0,"      "],[1,[33,["tlp-featured-topic"],null,[["topic"],[[28,["t"]]]]],false],[0,"\\n"]],"locals":["t"]},null],[0,"  "],[14],[0,"\\n"],[6,["if"],[[28,["showFeaturedLink"]]],null,{"statements":[[0,"    "],[11,"div",[]],[15,"class","featured-link"],[13],[0,"\\n      "],[1,[33,["discourse-tag"],[[28,["siteSettings","topic_list_featured_images_tag"]]],null],false],[0,"\\n    "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/tlp-featured-topics"}}),Discourse.RAW_TEMPLATES["javascripts/mobile/list/topic-list-item"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){var n;return"    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",socialStyle:"socialStyle",topic:"topic"},hashTypes:{mobileView:"PathExpression",socialStyle:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:t,socialStyle:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(2,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")},2:function(e,t,s,i,a){return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-thumbnail",{name:"raw",hash:{thumbnails:"thumbnails",topic:"topic"},hashTypes:{thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{thumbnails:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},4:function(e,t,s,i,a){var n;return null!=(n=s.if.call(null!=t?t:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(2,a,0),inverse:e.program(5,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:""},5:function(e,t,s,i,a){return"      <div class='pull-left'>\n        <a href=\""+e.escapeExpression(s.get.call(null!=t?t:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">'+e.escapeExpression((s.avatar||t&&t.avatar||s.helperMissing).call(null!=t?t:{},"topic.lastPoster",{name:"avatar",hash:{imageSize:"large"},hashTypes:{imageSize:"StringLiteral"},hashContexts:{imageSize:t},types:["PathExpression"],contexts:[t],data:a}))+"</a>\n      </div>\n"},7:function(e,t,s,i,a){var n;return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"topic-status",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"+(null!=(n=s.if.call(null!=t?t:{},"topic.unseen",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(8,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")},8:function(e,t,s,i,a){return'        <span class="badge-notification new-topic"></span>\n'},10:function(e,t,s,i,a){return"      <div class='main-link'>\n        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",showTopicPostBadges:"showTopicPostBadges",topic:"topic"},hashTypes:{mobileView:"PathExpression",showTopicPostBadges:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:t,showTopicPostBadges:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n      </div>\n"},12:function(e,t,s,i,a){return"      <div class='pull-right'>\n        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.post-count-or-badges",{name:"raw",hash:{postBadgesEnabled:"showTopicPostBadges",topic:"topic"},hashTypes:{postBadgesEnabled:"PathExpression",topic:"PathExpression"},hashContexts:{postBadgesEnabled:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n      </div>\n"},14:function(e,t,s,i,a){return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},16:function(e,t,s,i,a){var n;return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-meta",{name:"raw",hash:{topic:"topic",likesHeat:"view.likesHeat",title:"view.title"},hashTypes:{topic:"PathExpression",likesHeat:"PathExpression",title:"PathExpression"},hashContexts:{topic:t,likesHeat:t,title:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(17,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"      "+e.escapeExpression((s["raw-plugin-outlet"]||t&&t["raw-plugin-outlet"]||s.helperMissing).call(null!=t?t:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:t},types:[],contexts:[],data:a}))+"\n"},17:function(e,t,s,i,a){return"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCountDisplay:"likeCountDisplay"},hashTypes:{topicActions:"PathExpression",likeCountDisplay:"PathExpression"},hashContexts:{topicActions:t,likeCountDisplay:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},19:function(e,t,s,i,a){var n;return(null!=(n=s.unless.call(null!=t?t:{},"hideCategory",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(20,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+(null!=(n=s.if.call(null!=t?t:{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(22,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(17,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+'\n      <div class=\'num activity last\'>\n        <span class="age activity" title="'+e.escapeExpression(s.get.call(null!=t?t:{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'"><a href="'+e.escapeExpression(s.get.call(null!=t?t:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">'+e.escapeExpression((s["format-date"]||t&&t["format-date"]||s.helperMissing).call(null!=t?t:{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"tiny"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:t,format:t},types:["PathExpression"],contexts:[t],data:a}))+"</a></span>\n      </div>\n"},20:function(e,t,s,i,a){return"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-category",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},22:function(e,t,s,i,a){var n;return"        <div class='discourse-tags'>\n"+(null!=(n=s.each.call(null!=t?t:{},"tag","in","topic.visibleListTags",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:e.program(23,a,0),inverse:e.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[t,t,t],data:a}))?n:"")+"        </div>\n"},23:function(e,t,s,i,a){return"          "+e.escapeExpression((s["discourse-tag"]||t&&t["discourse-tag"]||s.helperMissing).call(null!=t?t:{},"tag",{name:"discourse-tag",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return"<td>\n"+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.program(4,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n  <div class='topic-details'>\n"+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(7,a,0),inverse:e.program(10,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.unless.call(null!=t?t:{},"socialStyle",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(12,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(14,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(16,a,0),inverse:e.program(19,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:"")+"  </div>\n</td>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-users"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){return'      <a href="'+e.escapeExpression(s.get.call(null!=t?t:{},"poster.user.path",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'" data-user-card="'+e.escapeExpression(s.get.call(null!=t?t:{},"poster.user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'" class="'+e.escapeExpression(s.get.call(null!=t?t:{},"poster.extras",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">\n        '+e.escapeExpression((s.avatar||t&&t.avatar||s.helperMissing).call(null!=t?t:{},"poster",{name:"avatar",hash:{imageSize:"small",usernamePath:"user.username",avatarTemplatePath:"user.avatar_template"},hashTypes:{imageSize:"StringLiteral",usernamePath:"StringLiteral",avatarTemplatePath:"StringLiteral"},hashContexts:{imageSize:t,usernamePath:t,avatarTemplatePath:t},types:["PathExpression"],contexts:[t],data:a}))+"\n      </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return"<div class='topic-users'>\n  <div class=\"inline\">\n"+(null!=(n=s.each.call(null!=t?t:{},"poster","in","topic.posters",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[t,t,t],data:a}))?n:"")+"  </div>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-thumbnail"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){return'<div class="topic-thumbnail">\n  <a href=\''+e.escapeExpression(s.get.call(null!=t?t:{},"topic.url",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"'>\n    "+e.escapeExpression((s["preview-unbound"]||t&&t["preview-unbound"]||s.helperMissing).call(null!=t?t:{},"thumbnails",{name:"preview-unbound",hash:{featured:"featured",category:"category",isSocial:"isSocial"},hashTypes:{featured:"PathExpression",category:"PathExpression",isSocial:"PathExpression"},hashContexts:{featured:t,category:t,isSocial:t},types:["PathExpression"],contexts:[t],data:a}))+"\n  </a>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-list-title"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){return"      "+e.escapeExpression((s["topic-featured-link"]||t&&t["topic-featured-link"]||s.helperMissing).call(null!=t?t:{},"topic",{name:"topic-featured-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n"},3:function(e,t,s,i,a){var n;return null!=(n=s.if.call(null!=t?t:{},"topic.unseen",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(4,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:""},4:function(e,t,s,i,a){return'        <span class="badge-notification new-topic"></span>\n'},6:function(e,t,s,i,a){var n;return null!=(n=s.if.call(null!=t?t:{},"showTopicPostBadges",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(7,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:""},7:function(e,t,s,i,a){return"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"topic-post-badges",{name:"raw",hash:{url:"topic.lastUnreadUrl",unseen:"topic.unseen",newPosts:"topic.displayNewPosts",unread:"topic.unread"},hashTypes:{url:"PathExpression",unseen:"PathExpression",newPosts:"PathExpression",unread:"PathExpression"},hashContexts:{url:t,unseen:t,newPosts:t,unread:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},9:function(e,t,s,i,a){return"      "+e.escapeExpression((s["raw-plugin-outlet"]||t&&t["raw-plugin-outlet"]||s.helperMissing).call(null!=t?t:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:t},types:[],contexts:[],data:a}))+"\n"},11:function(e,t,s,i,a){return"    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-users",{name:"raw",hash:{posterNames:"posterNames",topic:"topic"},hashTypes:{posterNames:"PathExpression",topic:"PathExpression"},hashContexts:{posterNames:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return"<div class=\"topic-title\">\n  <span class='link-top-line'>\n    "+e.escapeExpression((s["raw-plugin-outlet"]||t&&t["raw-plugin-outlet"]||s.helperMissing).call(null!=t?t:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-before-status"},hashTypes:{name:"StringLiteral"},hashContexts:{name:t},types:[],contexts:[],data:a}))+"\n    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"topic-status",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n    "+e.escapeExpression((s["topic-link"]||t&&t["topic-link"]||s.helperMissing).call(null!=t?t:{},"topic",{name:"topic-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n"+(null!=(n=s.if.call(null!=t?t:{},"topic.featured_link",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+(null!=(n=s.if.call(null!=t?t:{},"mobileView",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(3,a,0),inverse:e.program(6,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:"")+(null!=(n=s.unless.call(null!=t?t:{},"socialStyle",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(9,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"  </span>\n"+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(11,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-meta"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){return"    <span class=\"middot inline sub\"></span>\n    <div class='discourse-tags inline sub'>\n      "+e.escapeExpression((s["discourse-tags"]||t&&t["discourse-tags"]||s.helperMissing).call(null!=t?t:{},"topic",{name:"discourse-tags",hash:{mode:"list"},hashTypes:{mode:"StringLiteral"},hashContexts:{mode:t},types:["PathExpression"],contexts:[t],data:a}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return"<div class=\"topic-meta\">\n  <div class='topic-category inline sub'>\n    "+e.escapeExpression((s["category-link"]||t&&t["category-link"]||s.helperMissing).call(null!=t?t:{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n  </div>\n"+(null!=(n=s.if.call(null!=t?t:{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+'  <span class="middot inline sub"></span>\n  <div class="topic-views '+e.escapeExpression(s.get.call(null!=t?t:{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+' inline sub">\n    '+e.escapeExpression((s.number||t&&t.number||s.helperMissing).call(null!=t?t:{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:t},types:["PathExpression"],contexts:[t],data:a}))+"\n    "+e.escapeExpression((s.i18n||t&&t.i18n||s.helperMissing).call(null!=t?t:{},"views_lowercase",{name:"i18n",hash:{count:"topic.views"},hashTypes:{count:"PathExpression"},hashContexts:{count:t},types:["StringLiteral"],contexts:[t],data:a}))+'\n  </div>\n  <span class="middot inline sub"></span>\n  <div class=\'topic-replies posts-map '+e.escapeExpression(s.get.call(null!=t?t:{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+" inline sub' title='"+e.escapeExpression(s.get.call(null!=t?t:{},"title",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"'>\n    <a href class='posts-map badge-posts "+e.escapeExpression(s.get.call(null!=t?t:{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"'>"+e.escapeExpression((s.number||t&&t.number||s.helperMissing).call(null!=t?t:{},"topic.replyCount",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"</a>\n    "+e.escapeExpression((s.i18n||t&&t.i18n||s.helperMissing).call(null!=t?t:{},"replies_lowercase",{name:"i18n",hash:{count:"topic.replyCount"},hashTypes:{count:"PathExpression"},hashContexts:{count:t},types:["StringLiteral"],contexts:[t],data:a}))+'\n  </div>\n  <span class="middot inline sub"></span>\n  <div class="'+e.escapeExpression(s.get.call(null!=t?t:{},"class",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+" "+e.escapeExpression((s["cold-age-class"]||t&&t["cold-age-class"]||s.helperMissing).call(null!=t?t:{},"topic.createdAt",{name:"cold-age-class",hash:{class:"",startDate:"topic.bumpedAt"},hashTypes:{class:"StringLiteral",startDate:"PathExpression"},hashContexts:{class:t,startDate:t},types:["PathExpression"],contexts:[t],data:a}))+' activity inline sub" title="'+(null!=(n=s.get.call(null!=t?t:{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))?n:"")+'">\n    <a href="'+e.escapeExpression(s.get.call(null!=t?t:{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">'+e.escapeExpression((s["format-date"]||t&&t["format-date"]||s.helperMissing).call(null!=t?t:{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"medium-with-ago"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:t,format:t},types:["PathExpression"],contexts:[t],data:a}))+"</a>\n  </div>\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-list-item"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){return'  <td class=\'star\'>\n    <input type="checkbox" class="bulk-select">\n  </td>\n'},3:function(e,t,s,i,a){return"    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-list-title",{name:"raw",hash:{showTopicPostBadges:"showTopicPostBadges",socialStyle:"socialStyle",topic:"topic"},hashTypes:{showTopicPostBadges:"PathExpression",socialStyle:"PathExpression",topic:"PathExpression"},hashContexts:{showTopicPostBadges:t,socialStyle:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},5:function(e,t,s,i,a){return"    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-thumbnail",{name:"raw",hash:{category:"category",thumbnails:"thumbnails",topic:"topic"},hashTypes:{category:"PathExpression",thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{category:t,thumbnails:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},7:function(e,t,s,i,a){var n;return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-list-title",{name:"raw",hash:{showTopicPostBadges:"showTopicPostBadges",topic:"topic"},hashTypes:{showTopicPostBadges:"PathExpression",topic:"PathExpression"},hashContexts:{showTopicPostBadges:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(8,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"      "+e.escapeExpression((s["discourse-tags"]||t&&t["discourse-tags"]||s.helperMissing).call(null!=t?t:{},"topic",{name:"discourse-tags",hash:{mode:"list"},hashTypes:{mode:"StringLiteral"},hashContexts:{mode:t},types:["PathExpression"],contexts:[t],data:a}))+"\n"},8:function(e,t,s,i,a){return"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-category",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},10:function(e,t,s,i,a){return"      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},12:function(e,t,s,i,a){var n;return'      <div class="social-footer">\n'+(null!=(n=s.if.call(null!=t?t:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(13,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-meta",{name:"raw",hash:{topic:"topic",title:"view.title",likesHeat:"likesHeat"},hashTypes:{topic:"PathExpression",title:"PathExpression",likesHeat:"PathExpression"},hashContexts:{topic:t,title:t,likesHeat:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n        "+e.escapeExpression((s["raw-plugin-outlet"]||t&&t["raw-plugin-outlet"]||s.helperMissing).call(null!=t?t:{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:t},types:[],contexts:[],data:a}))+"\n      </div>\n"},13:function(e,t,s,i,a){return"          "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCountDisplay:"likeCountDisplay"},hashTypes:{topicActions:"PathExpression",likeCountDisplay:"PathExpression"},hashContexts:{topicActions:t,likeCountDisplay:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},15:function(e,t,s,i,a){var n;return(null!=(n=s.if.call(null!=t?t:{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(16,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n      "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.action-list",{name:"raw",hash:{icon:"heart",className:"likes",postNumbers:"topic.liked_post_numbers",topic:"topic"},hashTypes:{icon:"StringLiteral",className:"StringLiteral",postNumbers:"PathExpression",topic:"PathExpression"},hashContexts:{icon:t,className:t,postNumbers:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},16:function(e,t,s,i,a){return"        "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCountDisplay:"likeCountDisplay"},hashTypes:{topicActions:"PathExpression",likeCountDisplay:"PathExpression"},hashContexts:{topicActions:t,likeCountDisplay:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},18:function(e,t,s,i,a){var n;return null!=(n=s.unless.call(null!=t?t:{},"topic.isPinnedUncategorized",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(19,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:""},19:function(e,t,s,i,a){return"    "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.category-column",{name:"raw",hash:{category:"topic.category"},hashTypes:{category:"PathExpression"},hashContexts:{category:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},21:function(e,t,s,i,a){return"  "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.posters-column",{name:"raw",hash:{posters:"topic.posters"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},23:function(e,t,s,i,a){return"  "+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.posters-column",{name:"raw",hash:{posters:"topic.participants"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},25:function(e,t,s,i,a){var n;return'<td class="num likes">\n'+(null!=(n=s.if.call(null!=t?t:{},"hasLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(26,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")},26:function(e,t,s,i,a){return"    <a href='"+e.escapeExpression(s.get.call(null!=t?t:{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"'>\n      "+e.escapeExpression((s.number||t&&t.number||s.helperMissing).call(null!=t?t:{},"topic.like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+" <i class='fa fa-heart'></i></td>\n    </a>\n"},28:function(e,t,s,i,a){var n;return'<td class="num likes">\n'+(null!=(n=s.if.call(null!=t?t:{},"hasOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(29,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")},29:function(e,t,s,i,a){return"    <a href='"+e.escapeExpression(s.get.call(null!=t?t:{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"'>\n      "+e.escapeExpression((s.number||t&&t.number||s.helperMissing).call(null!=t?t:{},"topic.op_like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+" <i class='fa fa-heart'></i></td>\n    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return(null!=(n=s.if.call(null!=t?t:{},"bulkSelectEnabled",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n<td class='main-link clearfix' colspan=\""+e.escapeExpression(s.get.call(null!=t?t:{},"titleColSpan",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">\n'+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(3,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+(null!=(n=s.if.call(null!=t?t:{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(5,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+'  <div class="topic-details">\n'+(null!=(n=s.unless.call(null!=t?t:{},"socialStyle",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(7,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(10,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"socialStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},
fn:e.program(12,a,0),inverse:e.program(15,a,0),types:["PathExpression"],contexts:[t],data:a}))?n:"")+"  </div>\n</td>\n\n"+(null!=(n=s.unless.call(null!=t?t:{},"hideCategory",{name:"unless",hash:{},hashTypes:{},hashContexts:{},fn:e.program(18,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showPosters",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(21,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.posts-count-column",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n\n"+(null!=(n=s.if.call(null!=t?t:{},"showParticipants",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(23,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(25,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+"\n"+(null!=(n=s.if.call(null!=t?t:{},"showOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(28,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+'\n<td class="num views '+e.escapeExpression(s.get.call(null!=t?t:{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+'">'+e.escapeExpression((s.number||t&&t.number||s.helperMissing).call(null!=t?t:{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:t},types:["PathExpression"],contexts:[t],data:a}))+"</td>\n\n"+e.escapeExpression((s.raw||t&&t.raw||s.helperMissing).call(null!=t?t:{},"list.activity-column",{name:"raw",hash:{tagName:"td",class:"num",topic:"topic"},hashTypes:{tagName:"StringLiteral",class:"StringLiteral",topic:"PathExpression"},hashContexts:{tagName:t,class:t,topic:t},types:["StringLiteral"],contexts:[t],data:a}))+"\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-category"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){return"<div class='topic-category'>\n  "+e.escapeExpression((s["category-link"]||t&&t["category-link"]||s.helperMissing).call(null!=t?t:{},"category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n</div>\n"},useData:!0}),Discourse.RAW_TEMPLATES["javascripts/list/topic-actions"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,s,i,a){return'    <div class="like-count">'+e.escapeExpression(s.get.call(null!=t?t:{},"likeCountDisplay",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"</div>\n"},3:function(e,t,s,i,a){return"    "+e.escapeExpression((s["list-button"]||t&&t["list-button"]||s.helperMissing).call(null!=t?t:{},"action",{name:"list-button",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,s,i,a){var n;return'<div class="topic-actions">\n'+(null!=(n=s.if.call(null!=t?t:{},"likeCountDisplay",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,a,0),inverse:e.noop,types:["PathExpression"],contexts:[t],data:a}))?n:"")+(null!=(n=s.each.call(null!=t?t:{},"action","in","topicActions",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:e.program(3,a,0),inverse:e.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[t,t,t],data:a}))?n:"")+"</div>\n"},useData:!0}),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topics",["exports","ember-addons/ember-computed-decorators","discourse/lib/text"],function(e,t,s){"use strict";function i(e,t,s,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0});var a,n,o,r;e.default=Ember.Component.extend((a=(0,t.on)("init"),n=(0,t.observes)("featuredTopics"),o=(0,t.on)("init"),r={classNameBindings:[":tlp-featured-topics","hasTopics"],hasTopics:Ember.computed.notEmpty("featuredTopics"),featuredTopics:null,setup:function(){this.appEvents.trigger("topic:refresh-timeline-position")},setupTitle:function(){var e=this;if(this.get("showFeaturedTitle")){var t=Discourse.SiteSettings.topic_list_featured_title;(0,s.cookAsync)(t).then(function(t){e.set("featuredTitle",t)})}},showFeaturedTitle:function(){return Discourse.SiteSettings.topic_list_featured_title},showFeaturedLink:function(){return Discourse.SiteSettings.topic_list_featured_images_tag&&Discourse.SiteSettings.topic_list_featured_images_tag_show}},i(r,"setup",[a,n],Object.getOwnPropertyDescriptor(r,"setup"),r),i(r,"setupTitle",[o],Object.getOwnPropertyDescriptor(r,"setupTitle"),r),i(r,"showFeaturedTitle",[t.default],Object.getOwnPropertyDescriptor(r,"showFeaturedTitle"),r),i(r,"showFeaturedLink",[t.default],Object.getOwnPropertyDescriptor(r,"showFeaturedLink"),r),r))}),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topic",["exports","discourse/lib/url","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a;e.default=Ember.Component.extend((i=(0,s.default)("topic.id"),a={tagName:"a",attributeBindings:["href"],classNameBindings:[":tlp-featured-topic","showDetails"],mouseEnter:function(){this.set("showDetails",!0)},mouseLeave:function(){this.set("showDetails",!1)},href:function(e){return"/t/"+e},click:function(e){e.preventDefault(),t.default.routeTo(this.get("href"))}},function(e,t,s,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(a,"href",[i],Object.getOwnPropertyDescriptor(a,"href"),a),a))}),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/featured-images-enabled",["exports","../lib/utilities"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Helper.helper(function(e){return(0,t.featuredImagesEnabled)(e[0],e[1])})}),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/preview-helpers",["discourse-common/lib/helpers","../lib/utilities"],function(e,t){"use strict";(0,e.registerUnbound)("preview-unbound",function(e,s){return new Handlebars.SafeString((0,t.renderUnboundPreview)(e,s))}),(0,e.registerUnbound)("list-button",function(e,s){return new Handlebars.SafeString((0,t.buttonHTML)(e,s))})}),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-route-edits",["exports","../lib/utilities","discourse/lib/ajax","discourse/lib/plugin-api","preload-store","discourse/models/category-list","discourse/models/topic-list"],function(e,t,s,i,a,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"preview-route-edits",initialize:function(e){var t=e.lookup("site:main");if(!t.mobileView){var r=[],l=["Category","ParentCategory","CategoryNone","CategoryWithID"],c=t.get("filters");c.push("top"),c.forEach(function(e){var t=e.capitalize();r.push(t),l.push.apply(l,[t+"Category",t+"ParentCategory",t+"CategoryNone"])}),t.get("periods").forEach(function(e){var t=e.capitalize();r.push("Top"+t),l.push.apply(l,["Top"+t+"Category","Top"+t+"ParentCategory","Top"+t+"CategoryNone"])}),r.forEach(function(t){var t=e.lookup("route:discovery."+t);t.reopen({model:function(e,t){var s=this;return this._super(e,t).then(function(e){var t=null;return e&&e.topic_list&&e.topic_list.featured_topics&&(t=e.topic_list.featured_topics),s.controllerFor("discovery").set("featuredTopics",t),e})}})}),l.forEach(function(t){var t=e.lookup("route:discovery."+t);t.reopen({afterModel:function(e,t){var s=this;return this._super(e,t).then(function(e){var t=null;return e[1]&&e[1].topic_list&&e[1].topic_list.featured_topics&&(t=e[1].topic_list.featured_topics),s.controllerFor("discovery").set("featuredTopics",t),e})}})}),(0,i.withPluginApi)("0.8.12",function(e){e.modifyClass("route:discovery-categories",{setFeaturedTopics:function(e){var t=null;e&&e.topic_list&&e.topic_list.featured_topics&&(t=e.topic_list.featured_topics),this.controllerFor("discovery").set("featuredTopics",t)},_findCategoriesAndTopics:function(e){var t=this;return Ember.RSVP.hash({wrappedCategoriesList:a.default.getAndRemove("categories_list"),topicsList:a.default.getAndRemove("topic_list_"+e)}).then(function(i){var a=i.wrappedCategoriesList,r=i.topicsList,l=a&&a.category_list;return l&&r?(t.setFeaturedTopics(r),Ember.Object.create({categories:n.default.categoriesFrom(t.store,a),topics:o.default.topicsFrom(t.store,r),can_create_category:l.can_create_category,can_create_topic:l.can_create_topic,draft_key:l.draft_key,draft:l.draft,draft_sequence:l.draft_sequence})):(0,s.ajax)("/categories_and_"+e).then(function(e){return t.setFeaturedTopics(e),Ember.Object.create({categories:n.default.categoriesFrom(t.store,e),topics:o.default.topicsFrom(t.store,e),can_create_category:e.category_list.can_create_category,can_create_topic:e.category_list.can_create_topic,draft_key:e.category_list.draft_key,draft:e.category_list.draft,draft_sequence:e.category_list.draft_sequence})})})}})})}}}}),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-edits",["exports","../lib/utilities","../lib/actions","discourse/lib/plugin-api","ember-addons/ember-computed-decorators","discourse/lib/url","discourse/raw-views/list/posts-count-column"],function(e,t,s,i,a,n,o){"use strict";function r(e,t,s,i,a){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"preview-edits",initialize:function(e){Discourse.SiteSettings.topic_list_previews_enabled&&(0,i.withPluginApi)("0.8.12",function(i){var l,c,p,h,u,d,m,g,f,y,x,b,_,v,w,E,P,T,k,C,S,D,L,O,j,M,A,B,V;i.modifyClass("component:topic-list",(l=(0,a.on)("init"),c=(0,a.on)("didInsertElement"),p=(0,a.observes)("currentRoute"),h=(0,a.on)("didInsertElement"),u=(0,a.observes)("socialStyle"),d=(0,a.on)("willDestroyElement"),m=(0,a.default)("listChanged"),g=(0,a.default)("listChanged"),f=(0,a.default)("listChanged"),y=(0,a.default)("listChanged"),x=(0,a.default)("listChanged"),b=(0,a.default)("listChanged"),_=(0,a.default)("listChanged"),v={router:Ember.inject.service("-routing"),currentRoute:Ember.computed.alias("router.router.currentRouteName"),classNameBindings:["showThumbnail","showExcerpt","showActions","socialStyle"],suggestedList:Ember.computed.equal("parentView.parentView.parentView.elementId","suggested-topics"),discoveryList:Ember.computed.equal("parentView._debugContainerKey","component:discovery-topics-list"),listChanged:!1,setup:function(){if(this.get("suggestedList")){var e=this.get("parentView.parentView.parentView.topic.category");this.set("category",e)}},setupListChanged:function(){!this.get("site.mobileView")&&this.settingEnabled("topic_list_category_badge_move")&&this.set("hideCategory",!0),this.toggleProperty("listChanged")},setupListStyle:function(){this.$()&&this.$().parents("#list-area").toggleClass("social-style",this.get("socialStyle"))},_tearDown:function(){this.$().parents("#list-area").removeClass("social-style")},filter:function(){var e=this.get("parentView.model.filter");return this.get("currentRoute").indexOf("tags")>-1&&(e="tags"),this.get("suggestedList")&&(e="suggested"),this.get("site.mobileView")&&(e+="-mobile"),e},settingEnabled:function(e){var t=this.filter(),s=this.get("discoveryList"),i=this.get("suggestedList");if(!s&&!i)return!1;var a=this.get("category"),n=!!a&&a.get(e),o=!!Discourse.SiteSettings[e]&&Discourse.SiteSettings[e].toString(),r=t?t.split("/"):[],l=r[r.length-1],c=n&&n.split("|").indexOf(l)>-1,p=o&&o.split("|").indexOf(l)>-1,h=Discourse.SiteSettings.topic_list_set_category_defaults;return a?c||h&&p:p},socialStyle:function(){return this.settingEnabled("topic_list_social")},showThumbnail:function(){return this.settingEnabled("topic_list_thumbnail")},showExcerpt:function(){return this.settingEnabled("topic_list_excerpt")},showActions:function(){return this.settingEnabled("topic_list_action")},showCategoryBadge:function(){return this.settingEnabled("topic_list_category_badge_move")},skipHeader:function(){return this.get("socialStyle")||this.get("site.mobileView")},thumbnailFirstXRows:function(){return Discourse.SiteSettings.topic_list_thumbnail_first_x_rows}},r(v,"setup",[l],Object.getOwnPropertyDescriptor(v,"setup"),v),r(v,"setupListChanged",[c,p],Object.getOwnPropertyDescriptor(v,"setupListChanged"),v),r(v,"setupListStyle",[h,u],Object.getOwnPropertyDescriptor(v,"setupListStyle"),v),r(v,"_tearDown",[d],Object.getOwnPropertyDescriptor(v,"_tearDown"),v),r(v,"socialStyle",[m],Object.getOwnPropertyDescriptor(v,"socialStyle"),v),r(v,"showThumbnail",[g],Object.getOwnPropertyDescriptor(v,"showThumbnail"),v),r(v,"showExcerpt",[f],Object.getOwnPropertyDescriptor(v,"showExcerpt"),v),r(v,"showActions",[y],Object.getOwnPropertyDescriptor(v,"showActions"),v),r(v,"showCategoryBadge",[x],Object.getOwnPropertyDescriptor(v,"showCategoryBadge"),v),r(v,"skipHeader",[b],Object.getOwnPropertyDescriptor(v,"skipHeader"),v),r(v,"thumbnailFirstXRows",[_],Object.getOwnPropertyDescriptor(v,"thumbnailFirstXRows"),v),v)),i.modifyClass("component:topic-list-item",(w=(0,a.on)("init"),E=(0,a.on)("didInsertElement"),P=(0,a.observes)("thumbnails"),T=(0,a.on)("willDestroyElement"),k=(0,a.default)(),C=(0,a.default)(),S=(0,a.default)("topic.thumbnails"),D=(0,a.default)(),L=(0,a.default)("likeDifference"),O=(0,a.default)("likeDifference"),j=(0,a.default)("hasLiked"),M={canBookmark:Ember.computed.bool("currentUser"),rerenderTriggers:["bulkSelectEnabled","topic.pinned","likeDifference","topic.thumbnails"],socialStyle:Ember.computed.alias("parentView.socialStyle"),showThumbnail:Ember.computed.and("thumbnails","parentView.showThumbnail"),showExcerpt:Ember.computed.and("topic.excerpt","parentView.showExcerpt"),showActions:Ember.computed.alias("parentView.showActions"),showCategoryBadge:Ember.computed.alias("parentView.showCategoryBadge"),thumbnailFirstXRows:Ember.computed.alias("parentView.thumbnailFirstXRows"),category:Ember.computed.alias("parentView.category"),_setupProperties:function(){var e=this,s=this.get("topic"),i=s.get("thumbnails"),a=this.get("defaultThumbnail");i?(0,t.testImageUrl)(i,function(t){t||Ember.run.scheduleOnce("afterRender",e,function(){if(a){var t=e.$("img.thumbnail");t&&t.attr("src",a)}else{var s=e.$(".topic-thumbnail");s&&s.hide()}})}):a&&Discourse.SiteSettings.topic_list_default_thumbnail_fallback&&this.set("thumbnails",a);var n=o.default.create({topic:s});n.siteSettings=Discourse.SiteSettings,this.set("likesHeat",n.get("likesHeat"))},_setupDOM:function(){this.get("topic").get("thumbnails")&&this.get("thumbnailFirstXRows")&&this.$().index()>this.get("thumbnailFirstXRows")&&this.set("showThumbnail",!1),this._afterRender()},_afterRender:function(){var e=this;Ember.run.scheduleOnce("afterRender",this,function(){e._setupTitleCSS(),e.get("showThumbnail")&&e.get("socialStyle")&&e._sizeThumbnails(),e.get("showExcerpt")&&e._setupExcerptClick(),e.get("showActions")&&e._setupActions()})},_setupTitleCSS:function(){this.$(".topic-title a.visited").closest(".topic-details").addClass("visited")},_setupExcerptClick:function(){var e=this;this.$(".topic-excerpt").on("click.topic-excerpt",function(){var t=e.get("topic"),s="/t/"+t.slug+"/"+t.id;t.topic_post_number&&(s+="/"+t.topic_post_number),n.default.routeTo(s)})},_sizeThumbnails:function(){this.$(".topic-thumbnail img").on("load",function(){$(this).css({width:$(this)[0].naturalWidth})})},_setupActions:function(){var t=this,s=this.get("topic.topic_post_id"),i=this.$(".topic-bookmark"),a=this.$(".topic-like");i.on("click.topic-bookmark",function(){t.toggleBookmark(i,s)}),a.on("click.topic-like",function(){if(t.get("currentUser"))t.toggleLike(a,s);else{e.lookup("controller:application").send("showLogin")}})},_tearDown:function(){this.$(".topic-excerpt").off("click.topic-excerpt"),this.$(".topic-bookmark").off("click.topic-bookmark"),this.$(".topic-like").off("click.topic-like")},expandPinned:function(){return this.get("topic.pinned")?!(!this.get("controller.expandGloballyPinned")||!this.get("topic.pinned_globally"))||!!this.get("controller.expandAllPinned"):this.get("showExcerpt")},posterNames:function(){var e=this.get("topic.posters"),t="";return e.forEach(function(s,i){var a=s.user.name?s.user.name:s.user.username;t+='<a href="'+s.user.path+'" data-user-card="'+s.user.username+'" + class="'+s.extras+'">'+a+"</a>",i===e.length-2?t+="<span> & </span>":i!==e.length-1&&(t+="<span>, </span>")}),t},thumbnails:function(){return this.get("topic.thumbnails")},defaultThumbnail:function(){var e=this.get("topic.category"),t=!!e&&e.topic_list_default_thumbnail,s=t||Discourse.SiteSettings.topic_list_default_thumbnail;return s||!1},topicActions:function(){var e=this,t=[];return(this.get("topic.topic_post_can_like")||!this.get("currentUser")||Discourse.SiteSettings.topic_list_show_like_on_current_users_posts)&&t.push(this._likeButton()),this.get("canBookmark")&&(t.push(this._bookmarkButton()),Ember.run.scheduleOnce("afterRender",this,function(){var t=e.$(".topic-statuses .op-bookmark");t&&t.hide()})),t},likeCount:function(){var e=this.get("likeDifference");return(null==e?this.get("topic.topic_post_like_count"):e)||0},likeCountDisplay:function(){var e=this.likeCount(),t=1===e?"post.has_likes.one":"post.has_likes.other";return e>0&&I18n.t(t,{count:e})},hasLikedDisplay:function(){var e=this.get("hasLiked");return null==e?this.get("topic.topic_post_liked"):e},changeLikeCount:function(e){var t=this.likeCount(),s=t+(e||0);this.set("hasLiked",Boolean(e>0)),this.set("likeDifference",s),this.rerenderBuffer(),this._afterRender()},_likeButton:function(){var e="topic-like",t=!1;if(Discourse.SiteSettings.topic_list_show_like_on_current_users_posts&&(t=this.get("topic.topic_post_is_current_users")),this.get("hasLikedDisplay")){e+=" has-like";var s=!this.get("topic.topic_post_can_unlike")&&null==this.get("likeDifference");t=!!t||s}return{class:e,title:"post.controls.like",icon:"heart",disabled:t}},_bookmarkButton:function(){var e="topic-bookmark",t="bookmarks.not_bookmarked";return this.get("topic.topic_post_bookmarked")&&(e+=" bookmarked",t="bookmarks.created"),{class:e,title:t,icon:"bookmark"}},toggleBookmark:function(e,t){(0,s.sendBookmark)(t,!e.hasClass("bookmarked")),e.toggleClass("bookmarked")},toggleLike:function(e,i){var a=this;if(!this.get("hasLikedDisplay")){var n=[1,1.5];return new Ember.RSVP.Promise(function(o){(0,t.animateHeart)(e,n[0],n[1],function(){(0,t.animateHeart)(e,n[1],n[0],function(){(0,s.addLike)(i),a.changeLikeCount(1),o()})})})}(0,s.removeLike)(i),this.changeLikeCount(-1)}},r(M,"_setupProperties",[w],Object.getOwnPropertyDescriptor(M,"_setupProperties"),M),r(M,"_setupDOM",[E],Object.getOwnPropertyDescriptor(M,"_setupDOM"),M),r(M,"_afterRender",[P],Object.getOwnPropertyDescriptor(M,"_afterRender"),M),r(M,"_tearDown",[T],Object.getOwnPropertyDescriptor(M,"_tearDown"),M),r(M,"expandPinned",[k],Object.getOwnPropertyDescriptor(M,"expandPinned"),M),r(M,"posterNames",[C],Object.getOwnPropertyDescriptor(M,"posterNames"),M),r(M,"thumbnails",[S],Object.getOwnPropertyDescriptor(M,"thumbnails"),M),r(M,"defaultThumbnail",[D],Object.getOwnPropertyDescriptor(M,"defaultThumbnail"),M),r(M,"topicActions",[L],Object.getOwnPropertyDescriptor(M,"topicActions"),M),r(M,"likeCountDisplay",[O],Object.getOwnPropertyDescriptor(M,"likeCountDisplay"),M),r(M,"hasLikedDisplay",[j],Object.getOwnPropertyDescriptor(M,"hasLikedDisplay"),M),M)),i.modifyClass("component:topic-timeline",(A=(0,a.on)("didInsertElement"),B=(0,a.on)("willDestroyElement"),V={refreshTimelinePosition:function(){var e=this;this.appEvents.on("topic:refresh-timeline-position",this,function(){return e.queueDockCheck()})},removeRefreshTimelinePosition:function(){var e=this;this.appEvents.off("topic:refresh-timeline-position",this,function(){return e.queueDockCheck()})}},r(V,"refreshTimelinePosition",[A],Object.getOwnPropertyDescriptor(V,"refreshTimelinePosition"),V),r(V,"removeRefreshTimelinePosition",[B],Object.getOwnPropertyDescriptor(V,"removeRefreshTimelinePosition"),V),V))})}}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/discovery-list-container-top/featured-topics-discovery",["exports","discourse-common/lib/get-owner"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setupComponent:function(e,s){var i=this,a=(0,t.getOwner)(this).lookup("controller:discovery");s.set("featuredTopics",a.get("featuredTopics")),a.addObserver("featuredTopics",function(){if("destroying"!==i._state){var e=a.get("featuredTopics");s.set("featuredTopics",e)}})}}}),Ember.TEMPLATES["javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["featuredTopics"]]],null,{"statements":[[0,"  "],[1,[33,["tlp-featured-topics"],null,[["featuredTopics"],[[28,["featuredTopics"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"}}),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/category-list-settings"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["siteSettings","topic_list_previews_enabled"]]],null,{"statements":[[0,"  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_social"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_social"]],[28,["choices"]],"category.topic_list_social"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_thumbnail"]],[28,["choices"]],"category.topic_list_thumbnail"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_excerpt"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_excerpt"]],[28,["choices"]],"category.topic_list_excerpt"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_action"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_action"]],[28,["choices"]],"category.topic_list_action"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_category_badge_move"],null],false],[14],[0,"\\n    "],[1,[33,["list-setting"],null,[["settingValue","choices","settingName"],[[28,["category","custom_fields","topic_list_category_badge_move"]],[28,["choices"]],"category.topic_list_category_badge_move"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_default_thumbnail"],null],false],[14],[0,"\\n    "],[1,[33,["text-field"],null,[["value","placeholderKey"],[[28,["category","custom_fields","topic_list_default_thumbnail"]],"category.topic_list_default_thumbnail_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail_width"],null],false],[14],[0,"\\n    "],[1,[33,["input"],null,[["type","class","value","placeholderKey"],["integer","input-small",[28,["category","custom_fields","topic_list_thumbnail_width"]],"category.topic_list_thumbnail_width_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[11,"label",[]],[13],[1,[33,["i18n"],["category.topic_list_thumbnail_height"],null],false],[14],[0,"\\n    "],[1,[33,["input"],null,[["type","class","value","placeholderKey"],["integer","input-small",[28,["category","custom_fields","topic_list_thumbnail_height"]],"category.topic_list_thumbnail_height_placeholder"]]],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"section",[]],[15,"class","field"],[13],[0,"\\n    "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["category","custom_fields","topic_list_featured_images"]]]]],false],[0,"\\n    "],[11,"span",[]],[13],[1,[33,["i18n"],["category.topic_list_featured_images"],null],false],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/category-list-settings"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/category-custom-settings/category-list-settings",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=["latest","new","unread","top","suggested","agenda","latest-mobile","new-mobile","unread-mobile","top-mobile","suggested-mobile","agenda-mobile"],s=["social","thumbnail","excerpt","action","category_badge_move"];e.default={setupComponent:function(e,i){var a=e.category;a.custom_fields||(a.custom_fields={}),s.forEach(function(t){"string"!=typeof e.category.custom_fields["topic_list_"+t]&&(e.category.custom_fields["topic_list_"+t]="")}),i.set("choices",t)}}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["unless"],[[28,["site","mobileView"]]],null,{"statements":[[6,["if"],[[28,["model","featured_topics"]]],null,{"statements":[[0,"    "],[1,[33,["tlp-featured-topics"],null,[["featuredTopics"],[[28,["model","featured_topics"]]]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"}});
//# sourceMappingURL=/assets/plugin-third-party-7dbef41c9e0a69166b6ccfa515b9adf547fab7b2a568efd493a41b4e7cae7ad2.js.map