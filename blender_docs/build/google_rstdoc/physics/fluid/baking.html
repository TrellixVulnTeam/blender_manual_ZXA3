<document source="/home/htran/blender_documentations/blender_docs/manual/physics/fluid/baking.rst">
 <target refid="fluid-baking">
 </target>
 <section ids="baking fluid-baking" names="baking fluid-baking">
  <title>
   Baking
  </title>
  <comment xml:space="preserve">
   TODO2.8:
.. figure:: /images/physics_fluid_types_domain_panels.png

   The fluid simulation options with Domain selected.
  </comment>
  <section ids="bake-button" names="bake\ button">
   <title>
    Bake Button
   </title>
   <paragraph>
    Perform the actual fluid simulation. Blender will continue to work normally,
except the progress will be displayed in the status bar.
Pressing
    <literal classes="kbd">
     Esc
    </literal>
    or the “X” button next to the status bar will abort the simulation.
Afterwards two
    <literal>
     .bobj.gz
    </literal>
    (one for the
    <emphasis>
     Final
    </emphasis>
    quality, one for the
    <emphasis>
     Preview
    </emphasis>
    quality),
plus one
    <literal>
     .bvel.gz
    </literal>
    (for the
    <emphasis>
     Final
    </emphasis>
    quality)
will be in the selected output directory for each frame.
   </paragraph>
  </section>
  <section ids="bake-directory" names="bake\ directory">
   <title>
    Bake Directory
   </title>
   <paragraph>
    Directory and file prefix to store baked surface meshes.
   </paragraph>
   <paragraph>
    This is similar to the animation output settings, only selecting a file is a bit special:
when you select any of the previously generated surface meshes
(e.g.
    <literal>
     test1_fluidsurface_final_0132.bobj.gz
    </literal>
    ),
the prefix will be automatically set (
    <literal>
     test1_
    </literal>
    in this example).
This way the simulation can be done several times with different settings,
and allows quick changes between the different sets of surface data.
   </paragraph>
  </section>
  <section ids="notes" names="notes">
   <title>
    Notes
   </title>
   <definition_list>
    <definition_list_item>
     <term>
      Unique domain
     </term>
     <definition>
      <paragraph>
       Because of the possibility of spanning and linking between scenes,
there can only be one domain in an entire blend-file.
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Selecting a Baked Domain
     </term>
     <definition>
      <paragraph>
       After a domain has been baked, it changes to the fluid mesh.
To reselect the domain so that you can bake it again after you have made changes,
go to any frame and select
       <literal classes="kbd">
        RMB
       </literal>
       the fluid mesh.
Then you can click the
       <emphasis>
        bake
       </emphasis>
       button again to recompute the fluid flows inside that domain.
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Baking always starts at Frame #1
     </term>
     <definition>
      <paragraph>
       The fluid simulator disregards the
       <emphasis>
        Start
       </emphasis>
       setting in the
       <emphasis>
        Animation
       </emphasis>
       panel,
it will always bake from frame 1. If you wish the simulation to start later than frame 1,
you must key the fluid objects in your domain to be inactive until the frame you desire to start the simulation.
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Baking always ends at the
      <emphasis>
       End
      </emphasis>
      Frame set in the
      <emphasis>
       Animation
      </emphasis>
      panel
     </term>
     <definition>
      <paragraph>
       If the frame rate is set to 25 frames per second,
and ending time is 4.0 seconds, then you should (if your start time is 0)
set your animation to end at frame
       <literal>
        4.0 × 25 = 100
       </literal>
       .
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Freeing the previous baked solutions
     </term>
     <definition>
      <paragraph>
       Deleting the content of the “Bake” directory is a destructive way to achieve this.
Be careful if more than one simulation uses the same bake directory
(be sure they use different filenames, or they will overwrite one another)!
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Reusing Bakes
     </term>
     <definition>
      <paragraph>
       Manually entering (or searching for) a previously saved (baked)
computational directory and filename mask will switch the fluid
flow and mesh deformation to use that which existed during the old bake.
Thus, you can reuse baked flows by simply pointing to them in this field.
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Baking processing time
     </term>
     <definition>
      <paragraph>
       Baking takes a
       <strong>
        lot
       </strong>
       of compute power (hence time).
Depending on the scene, it might be preferable to bake overnight.
      </paragraph>
      <paragraph>
       If the mesh has modifiers, the rendering settings are used for exporting the mesh to the fluid solver.
Depending on the setting, calculation times and memory use might exponentially increase.
For example, when using a moving mesh with
       <emphasis>
        Subdivision Surface
       </emphasis>
       as an obstacle,
it might help to decrease simulation time by switching it off, or to a low subdivision level.
When the setup/rig is correct, you can always increase settings to yield a more realistic result.
      </paragraph>
     </definition>
    </definition_list_item>
   </definition_list>
   <comment xml:space="preserve">
    ===="St"/"Ad"/"Bn"/"Par" Buttons====
Till now, we were in the |Standard buttons.
Clicking another one of these buttons will show other "panels"
(groups of controls: Advanced, ``Bn`` for boundary, and Particle)
of more advanced options, that often are fine set at the defaults.

Standard
   The settings in this set are already been described above...

Advanced
   Gravity vector
      Strength and direction of the gravity acceleration and any lateral (X, Y plane) force.
      The main component should be along the negative Z axis (in ``m.s
    <sup>
     -2
    </sup>
    ``).

.. note::

   All of the X, Y, Z values should not be zero, or the fluid will not flow!
   Imagine a droplet floating in the nothingness of deep space...
   It must be some small number in at least one direction.
   </comment>
  </section>
 </section>
</document>