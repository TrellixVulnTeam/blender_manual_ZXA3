<document source="/home/htran/blender_documentations/blender_docs/manual/about/contribute/translations/contribute.rst">
 <section ids="contribute" names="contribute">
  <title>
   Contribute
  </title>
  <paragraph>
   On this page French (
   <literal>
    fr
   </literal>
   ) is used for examples. However, it can be replaced with other
   <reference name="languages codes" refuri="https://www.gnu.org/software/gettext/manual/html_node/Usual-Language-Codes.html">
    languages codes
   </reference>
   .
So, be sure to change the
   <literal>
    /fr
   </literal>
   suffixes in this guide to the language you are translating!
  </paragraph>
  <paragraph>
   To see which languages are currently available, you can browse the repository:
   <reference refuri="https://developer.blender.org/diffusion/BMT/browse/trunk/blender_docs/locale">
    https://developer.blender.org/diffusion/BMT/browse/trunk/blender_docs/locale
   </reference>
  </paragraph>
  <note>
   <paragraph>
    First of all, it is assumed that you have the manual already building.
If you have not done this already go back too
the
    <reference internal="True" refuri="#about-getting-started">
     <inline classes="std std-ref">
      Getting Started
     </inline>
    </reference>
    section.
   </paragraph>
  </note>
  <section ids="installing" names="installing">
   <title>
    Installing
   </title>
   <section ids="language-files" names="language\ files">
    <title>
     Language Files
    </title>
    <paragraph>
     From the directory containing your checkout of the manual run:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     svn checkout https://svn.blender.org/svnroot/bf-manual-translations/trunk/blender_docs/locale/fr locale/fr
    </literal_block>
    <paragraph>
     This will create a
     <literal>
      locale/fr
     </literal>
     subdirectory.
    </paragraph>
    <paragraph>
     You should have a directory layout like this:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     blender_docs
   |- locale/
   |  |- fr/
   |  |  |- LC_MESSAGES/
   |- manual/
    </literal_block>
    <note>
     <paragraph>
      When running subversion from the command line (such as updating or committing),
you will need to change directory to
      <literal>
       locale/fr
      </literal>
      first.
     </paragraph>
     <paragraph>
      Otherwise you will get a warning:
      <literal>
       'locale' is not under version control
      </literal>
     </paragraph>
    </note>
   </section>
   <section ids="a-po-editor" names="a\ po\ editor">
    <title>
     A PO Editor
    </title>
    <paragraph>
     To make edit the PO files you will need to install a PO editor.
We recommended that you use
     <reference name="Poedit" refuri="https://poedit.net/">
      Poedit
     </reference>
     however, any PO editor will do.
    </paragraph>
    <note>
     <paragraph>
      For Linux users, you will have to check with
your distributionâ€™s software center for a version of Poedit.
This editor is only a recommendation. There are others, such as Kate and Kwrite, that
could offer syntax highlighting and basic tools for text editing, e.g. letter case transposes.
Other platforms can use some text editors supporting the syntax highlighting for PO files,
or allowing you to create a custom one (such as Notepad++ on Windows).
     </paragraph>
    </note>
   </section>
  </section>
  <section ids="building-with-translations" names="building\ with\ translations">
   <title>
    Building with Translations
   </title>
   <note>
    <paragraph>
     This is optional, translations are automatically built online, e.g:
     <reference refuri="https://docs.blender.org/manual/fr/dev/">
      https://docs.blender.org/manual/fr/dev/
     </reference>
    </paragraph>
   </note>
   <paragraph>
    Now you can build the manual with the translation applied:
   </paragraph>
   <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
    make -e SPHINXOPTS="-D language='fr'"
   </literal_block>
   <paragraph>
    If you are on Windows and do not have
    <literal>
     make
    </literal>
    , run:
   </paragraph>
   <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
    sphinx-build -b html -D language=fr ./manual ./build/html
   </literal_block>
   <paragraph>
    Now you will have a build of the manual with translations applied.
   </paragraph>
  </section>
  <section ids="editing-translation-files" names="editing\ translation\ files">
   <title>
    Editing Translation Files
   </title>
   <paragraph>
    Now you can edit the PO translation files, e.g:
   </paragraph>
   <definition_list>
    <definition_list_item>
     <term>
      Original RST File
     </term>
     <definition>
      <paragraph>
       <literal>
        manual/getting_started/about_blender/introduction.rst
       </literal>
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Generated PO File
     </term>
     <definition>
      <paragraph>
       <literal>
        locale/fr/LC_MESSAGES/getting_started/about_blender/introduction.po
       </literal>
      </paragraph>
     </definition>
    </definition_list_item>
   </definition_list>
   <paragraph>
    The modified
    <literal>
     .po
    </literal>
    files can be edited and committed back to svn.
   </paragraph>
  </section>
  <section ids="commit-translation-files" names="commit\ translation\ files">
   <title>
    Commit Translation Files
   </title>
   <paragraph>
    See
    <reference internal="True" refuri="#contribute-patch-submit">
     <inline classes="std std-ref">
      Submit Patches
     </inline>
    </reference>
    .
   </paragraph>
  </section>
  <section ids="maintenance" names="maintenance">
   <title>
    Maintenance
   </title>
   <target refid="translations-fuzzy-strings">
   </target>
   <section ids="keeping-track-of-fuzzy-strings translations-fuzzy-strings" names="keeping\ track\ of\ fuzzy\ strings translations-fuzzy-strings">
    <title>
     Keeping Track of Fuzzy Strings
    </title>
    <paragraph>
     When the manual is updated, those translations which are outdated will be marked as fuzzy.
To keep track with that, you can use a tool we created for that task.
    </paragraph>
    <paragraph>
     You can do this by running:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     make report_po_progress
    </literal_block>
    <paragraph>
     This will only give a quick summary however, you can get more information by running:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     python tools_report/report_translation_progress.py locale/fr/
    </literal_block>
    <paragraph>
     You should get a list of all the files with information about the number of empty and fuzzy strings.
For more options see:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     python tools_report/report_translation_progress.py --help
    </literal_block>
    <seealso>
     <paragraph>
      Instructions on this page are based on
      <reference name="Sphinx Intl documentation" refuri="http://www.sphinx-doc.org/en/stable/intl.html">
       Sphinx Intl documentation
      </reference>
     </paragraph>
    </seealso>
   </section>
   <section ids="updating-po-files" names="updating\ po\ files">
    <title>
     Updating PO Files
    </title>
    <paragraph>
     As the original manual changes, the templates will need updating.
Note, doing this is not required,
as administrator usually update the files for all languages at once.
This allows all languages to be on the same version of the manual.
However, if you need to update the files yourself, it can be done as follows:
    </paragraph>
    <literal_block force_highlighting="False" language="sh" linenos="False" xml:space="preserve">
     make update_po
    </literal_block>
    <paragraph>
     The updated templates can then be committed to svn.
    </paragraph>
    <seealso>
     <paragraph>
      A guide how to add a new language can be found in the
      <reference internal="True" refuri="">
       <inline classes="doc">
        Adding a Language
       </inline>
      </reference>
      .
     </paragraph>
    </seealso>
   </section>
  </section>
 </section>
</document>