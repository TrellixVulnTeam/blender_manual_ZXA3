<document source="/home/htran/blender_documentations/blender_docs/manual/animation/armatures/bones/properties/relations.rst">
 <section ids="relations" names="relations mối\ quan\ hệ\ --\ relations">
  <title>
   Mối Quan Hệ -- Relations
  </title>
  <admonition classes="refbox" names="tham\ chiếu\ --\ reference">
   <title>
    Tham Chiếu -- Reference
   </title>
   <field_list>
    <field>
     <field_name>
      Chế Độ -- Mode
     </field_name>
     <field_body>
      <paragraph>
       Toàn Bộ các Chế Độ -- All Modes
      </paragraph>
     </field_body>
    </field>
    <field>
     <field_name>
      Bảng -- Panel
     </field_name>
     <field_body>
      <paragraph>
       <inline classes="menuselection" rawtext=":menuselection:`Xương (Bone) --&gt; Mối Quan Hệ (Relations)`">
        Xương (Bone) ‣ Mối Quan Hệ (Relations)
       </inline>
      </paragraph>
     </field_body>
    </field>
   </field_list>
  </admonition>
  <comment xml:space="preserve">
   TODO2.8
.. figure:: /images/animation_armatures_bones_properties_relations_panel.png

   Relations panel.
  </comment>
  <paragraph>
   In this panel you can arrange sets of bones in different layers for easier manipulation.
  </paragraph>
  <section ids="bone-layers" names="bone\ layers --\ bone\ layers">
   <title>
    -- Bone Layers
   </title>
   <section ids="moving-bones-between-layers" names="moving\ bones\ between\ layers --\ moving\ bones\ between\ layers">
    <title>
     -- Moving Bones between Layers
    </title>
    <paragraph>
     Obviously, you have to be in
     <emphasis>
      Edit Mode
     </emphasis>
     or
     <emphasis>
      Pose Mode
     </emphasis>
     to move bones between layers.
Note that as with objects, bones can lay in several layers at once,
just use the usual
     <literal classes="kbd">
      Shift-LMB
     </literal>
     clicks...
First of all, you have to select the chosen bone(s)!
    </paragraph>
    <bullet_list bullet="-">
     <list_item>
      <paragraph>
       In the Properties editor, use the "layer buttons" of each selected bone Relations panel (
       <emphasis>
        Bones
       </emphasis>
       tab)
to control in which layer(s) it lays.
      </paragraph>
     </list_item>
     <list_item>
      <paragraph>
       In the
       <emphasis>
        3D View
       </emphasis>
       editor, use the menu
       <inline classes="menuselection" rawtext=":menuselection:`Cốt (Armature) --&gt; Di Chuyển Xương vào Tầng Lớp (Move Bone To Layer)`">
        Cốt (Armature) ‣ Di Chuyển Xương vào Tầng Lớp (Move Bone To Layer)
       </inline>
       or
       <inline classes="menuselection" rawtext=":menuselection:`Tư Thế (Pose) --&gt; Di Chuyển Xương vào Tầng Lớp (Move Bone To Layer)`">
        Tư Thế (Pose) ‣ Di Chuyển Xương vào Tầng Lớp (Move Bone To Layer)
       </inline>
       or press
       <literal classes="kbd">
        M
       </literal>
       to show the usual pop-up layers menu. Note that this way, you assign the same layers to all selected bones.
      </paragraph>
     </list_item>
    </bullet_list>
    <target refid="bone-relations-bone-group">
    </target>
   </section>
  </section>
  <section ids="bone-group bone-relations-bone-group" names="bone\ group nhóm\ xương\ --\ bone\ group bone-relations-bone-group">
   <title>
    Nhóm Xương -- Bone Group
   </title>
   <admonition classes="refbox" names="tham\ chiếu\ --\ reference">
    <title>
     Tham Chiếu -- Reference
    </title>
    <field_list>
     <field>
      <field_name>
       Chế Độ -- Mode
      </field_name>
      <field_body>
       <paragraph>
        Chế Độ Tư Thế -- Pose Mode
       </paragraph>
      </field_body>
     </field>
    </field_list>
   </admonition>
   <comment xml:space="preserve">
    TODO2.8
.. figure:: /images/animation_armatures_bones_properties_relations_group-list.png

   The Bone Group data ID.
   </comment>
   <paragraph>
    To assign a selected bone to a given bone group use the
    <emphasis>
     Bone Group
    </emphasis>
    data ID.
   </paragraph>
  </section>
  <section ids="object-children" names="object\ children --\ object\ children">
   <title>
    -- Object Children
   </title>
   <admonition classes="refbox" names="tham\ chiếu\ --\ reference">
    <title>
     Tham Chiếu -- Reference
    </title>
    <field_list>
     <field>
      <field_name>
       Chế Độ -- Mode
      </field_name>
      <field_body>
       <paragraph>
        Chế Độ Tư Thế -- Pose Mode
       </paragraph>
      </field_body>
     </field>
    </field_list>
   </admonition>
   <definition_list>
    <definition_list_item>
     <term>
      Phụ Huynh Hóa Tương Đối -- Relative Parenting
     </term>
     <definition>
      <paragraph>
       Changes how transformation of the bone is applied to its child Objects.
      </paragraph>
     </definition>
    </definition_list_item>
   </definition_list>
   <target refid="bone-relations-parenting">
   </target>
  </section>
  <section ids="parenting bone-relations-parenting" names="parenting phụ\ huynh\ hóa\ --\ parenting bone-relations-parenting">
   <title>
    Phụ Huynh Hóa -- Parenting
   </title>
   <definition_list>
    <definition_list_item>
     <term>
      Phụ Huynh -- Parent
     </term>
     <definition>
      <paragraph>
       A
       <reference internal="True" refuri="../../../../interface/controls/templates/data_block.html#ui-data-id">
        <inline classes="std std-ref">
         Chỉ Danh của Dữ Liệu -- Data ID
        </inline>
       </reference>
       to select the bone to set as a parent.
      </paragraph>
     </definition>
    </definition_list_item>
    <definition_list_item>
     <term>
      Kết Nối -- Connected
     </term>
     <definition>
      <paragraph>
       The
       <emphasis>
        Connected
       </emphasis>
       checkbox set the head of the bone to be connected with its parent root.
      </paragraph>
     </definition>
    </definition_list_item>
   </definition_list>
   <section ids="transformations" names="transformations --\ transformations">
    <title>
     -- Transformations
    </title>
    <paragraph>
     Bones relationships have effects on transformations behavior.
    </paragraph>
    <paragraph>
     By default, children bones inherit:
    </paragraph>
    <bullet_list bullet="-">
     <list_item>
      <paragraph>
       Their parent position, with their own offset of course.
      </paragraph>
     </list_item>
     <list_item>
      <paragraph>
       Their parent rotation (i.e. they keep a constant rotation relatively to their parent).
      </paragraph>
     </list_item>
     <list_item>
      <paragraph>
       Their parent scale, here again with their own offset.
      </paragraph>
     </list_item>
    </bullet_list>
    <comment xml:space="preserve">
     TODO2.8 Maybe update the images (color &amp; style)
    </comment>
    <table ids="id1">
     <title>
      Examples of transforming parented/connected bones.
     </title>
     <tgroup cols="3">
      <colspec colwidth="33">
      </colspec>
      <colspec colwidth="33">
      </colspec>
      <colspec colwidth="33">
      </colspec>
      <tbody>
       <row>
        <entry>
         <figure ids="id2">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_rest.png'}" uri="images/animation_armatures_bones_properties_relations_rest.png" width="200px"/>
          <caption>
           The armature in its rest position.
          </caption>
         </figure>
        </entry>
        <entry>
         <figure ids="id3">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_root-rotation.png'}" uri="images/animation_armatures_bones_properties_relations_root-rotation.png" width="200px"/>
          <caption>
           Rotation of a root bone.
          </caption>
         </figure>
        </entry>
        <entry>
         <figure ids="id4">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_root-scale.png'}" uri="images/animation_armatures_bones_properties_relations_root-scale.png" width="200px"/>
          <caption>
           Scaling of a root bone.
          </caption>
         </figure>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </table>
    <paragraph>
     Exactly like standard children objects. You can modify this behavior on a per-bone basis,
using the Relations panel in the
     <emphasis>
      Bones
     </emphasis>
     tab:
    </paragraph>
    <comment xml:space="preserve">
     TODO2.8
.. figure:: /images/animation_armatures_bones_properties_relations_panel.png

   Relations panel in Pose Mode.
    </comment>
    <definition_list>
     <definition_list_item>
      <term>
       Local Location
      </term>
      <definition>
       <paragraph>
        When disabled, the location transform property is evaluated in the parent bone's local space,
rather than using the bone's own
        <emphasis>
         rest pose
        </emphasis>
        local space orientation.
       </paragraph>
      </definition>
     </definition_list_item>
     <definition_list_item>
      <term>
       Thừa Kế Độ Xoay -- Inherit Rotation
      </term>
      <definition>
       <paragraph>
        When disabled, this will "break" the rotation relationship to the bone's parent.
This means that the child will keep its rotation in the armature object space when its parent is rotated.
       </paragraph>
      </definition>
     </definition_list_item>
     <definition_list_item>
      <term>
       Thừa Kế Tỷ Lệ -- Inherit Scale
      </term>
      <definition>
       <paragraph>
        Specifies which effects of parent scaling the bone inherits:
       </paragraph>
       <definition_list>
        <definition_list_item>
         <term>
          Full
         </term>
         <definition>
          <paragraph>
           The bone inherits all effects of parent scaling and shear.
          </paragraph>
         </definition>
        </definition_list_item>
        <definition_list_item>
         <term>
          Fix Shear
         </term>
         <definition>
          <paragraph>
           Corrects the transformation inherited from the parent to remove shear caused by non-uniform
parent scaling and rotation. The process preserves the bone direction, length and volume, and
minimally affects roll on average.
          </paragraph>
          <paragraph>
           If the inherited scale is non-uniform, this does not prevent shear from reappearing due to
local rotation of the child bone, or of its children.
          </paragraph>
         </definition>
        </definition_list_item>
        <definition_list_item>
         <term>
          Average
         </term>
         <definition>
          <paragraph>
           Inherits a uniform scaling factor that represents the total change in the volume of the parent.
          </paragraph>
          <paragraph>
           This effectively keeps the uniform part of the scaling of the parent, while removing squash
and stretch effects. Uniform scaling never causes shear.
          </paragraph>
         </definition>
        </definition_list_item>
        <definition_list_item>
         <term>
          None
         </term>
         <definition>
          <paragraph>
           Ignores all scaling and shear of the parent.
          </paragraph>
         </definition>
        </definition_list_item>
        <definition_list_item>
         <term>
          None (Legacy)
         </term>
         <definition>
          <paragraph>
           Ignores all scaling, provided the parent is not sheared. If it is, there are no guarantees.
          </paragraph>
          <paragraph>
           This choice replicates the behavior of the old Inherit Scale checkbox, and may be removed in a future release.
          </paragraph>
         </definition>
        </definition_list_item>
       </definition_list>
      </definition>
     </definition_list_item>
    </definition_list>
    <paragraph>
     These inheriting behaviors propagate along the bones' hierarchy.
So when you scale down a bone, all its descendants are by default scaled down accordingly.
However, if you disable one bone's
     <emphasis>
      Inherit Scale
     </emphasis>
     or
     <emphasis>
      Inherit Rotation
     </emphasis>
     property in this "family", this will break the scaling propagation,
i.e. this bone
     <emphasis>
      and all its descendants
     </emphasis>
     will no longer be affected when you scale one of its ancestors.
    </paragraph>
    <table ids="id5">
     <title>
      Examples of transforming parented/connected bones with Inherit Rotation disabled.
     </title>
     <tgroup cols="3">
      <colspec colwidth="33">
      </colspec>
      <colspec colwidth="33">
      </colspec>
      <colspec colwidth="33">
      </colspec>
      <tbody>
       <row>
        <entry>
         <figure ids="id6">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_inherit-rot-disabled.png'}" uri="images/animation_armatures_bones_properties_relations_inherit-rot-disabled.png"/>
          <caption>
           The yellow outlined Inherit Rotation disabled bone in the armature.
          </caption>
         </figure>
        </entry>
        <entry>
         <figure ids="id7">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_inherit-rot-disabled-descendant.png'}" uri="images/animation_armatures_bones_properties_relations_inherit-rot-disabled-descendant.png"/>
          <caption>
           Rotation of a bone with an Inherit Rotation disabled bone among its descendants.
          </caption>
         </figure>
        </entry>
        <entry>
         <figure ids="id8">
          <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_inherit-rot-disabled-scale.png'}" uri="images/animation_armatures_bones_properties_relations_inherit-rot-disabled-scale.png"/>
          <caption>
           Scaling of a bone with an Inherit Rotation disabled bone among its descendants.
          </caption>
         </figure>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </table>
    <paragraph>
     Connected bones have another specificity: they cannot be moved. Indeed,
as their root must be at their parent's tip, if you do not move the parent,
you cannot move the child's root, but only its tip, which leads to a child rotation.
This is exactly what happens, when you press
     <literal classes="kbd">
      G
     </literal>
     with a connected bone selected,
Blender automatically switches to rotation operation.
    </paragraph>
    <paragraph>
     Bones relationships also have important consequences on how selections of multiple bones
behave when transformed. There are many different situations which may not be included on this list,
however, this should give a good idea of the problem:
    </paragraph>
    <bullet_list bullet="-">
     <list_item>
      <paragraph>
       Non-related selected bones are transformed independently, as usual.
      </paragraph>
     </list_item>
     <list_item>
      <paragraph>
       When several bones of the same "family" are selected,
       <emphasis>
        only
       </emphasis>
       the "most parent" ones are really transformed --
the descendants are just handled through the parent relationship process, as if they were not selected
(see Fig.
       <reference internal="True" refid="fig-rig-pose-edit-scale">
        <inline classes="std std-ref">
         Scaling bones, some of them related.
        </inline>
       </reference>
       the third tip bone,
outlined in yellow, was only scaled down through the parent relationship,
exactly as the unselected ones, even though it is selected and active.
Otherwise, it should have been twice smaller!)
      </paragraph>
      <target refid="fig-rig-pose-edit-scale">
      </target>
      <figure align="center" ids="id9 fig-rig-pose-edit-scale" names="fig-rig-pose-edit-scale">
       <image candidates="{'*': 'images/animation_armatures_bones_properties_relations_scale-related.png'}" uri="images/animation_armatures_bones_properties_relations_scale-related.png" width="320px"/>
       <caption>
        Scaling bones, some of them related.
       </caption>
      </figure>
     </list_item>
     <list_item>
      <paragraph>
       When connected and unconnected bones are selected,
and you start a move operation, only the unconnected bones are affected.
      </paragraph>
     </list_item>
     <list_item>
      <paragraph>
       When a child connected hinge bone is in the selection,
and the "most parent" selected one is connected, when you press
       <literal classes="kbd">
        G
       </literal>
       ,
nothing happens, because Blender remains in move operation, which of course has no effect on a connected bone.
      </paragraph>
     </list_item>
    </bullet_list>
    <paragraph>
     So, when posing a chain of bones, you should always edit its elements from the root bone to the tip bone.
This process is known as
     <emphasis>
      forward kinematics
     </emphasis>
     (FK).
We will see in a
     <reference internal="True" refuri="../../posing/bone_constraints/index.html#bone-constraints-inverse-kinematics">
      <inline classes="std std-ref">
       later page
      </inline>
     </reference>
     that Blender features another pose method,
called
     <emphasis>
      inverse kinematics
     </emphasis>
     (IK), which allows you to pose a whole chain just by moving its tip.
    </paragraph>
    <note>
     <paragraph>
      This feature is somewhat extended/completed by
the
      <reference internal="True" refuri="../../properties/pose_library.html">
       <inline classes="doc">
        pose library
       </inline>
      </reference>
      tool.
     </paragraph>
    </note>
   </section>
  </section>
 </section>
</document>